(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9f1e6636"],{1552:function(t,e,a){"use strict";var s=a("7e4b"),i=a.n(s);i.a},"1fbd":function(t,e,a){},"35fb":function(t,e,a){},"4b50":function(t,e,a){t.exports=a.p+"img/loading.e5f12ca1.png"},"5d60":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("span",{on:{click:function(e){return t.$router.push("/")}}},[a("i",{staticClass:"iconfont icon-xiangzuojiantou"})]),t.isSearch?a("span",[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.serachValue,expression:"serachValue"}],attrs:{type:"text"},domProps:{value:t.serachValue},on:{input:function(e){e.target.composing||(t.serachValue=e.target.value)}}}),t._m(0)])]):a("span",[a("i",{staticClass:"icon iconfont icon-sousuo",on:{click:function(e){return t.$router.push("/search")}}})])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",[a("i",{staticClass:"iconfont icon-sousuo"})])}],n={props:{name:{type:String}},data:function(){return{value:""}},computed:{isSearch:function(){return"/search"===this.$route.path},serachValue:{get:function(){return this.$store.state.serachValue},set:function(t){this.$store.commit("updateValue",t)}}}},o=n,r=(a("6375"),a("2877")),c=Object(r["a"])(o,s,i,!1,null,"6944daf4",null);e["a"]=c.exports},6375:function(t,e,a){"use strict";var s=a("35fb"),i=a.n(s);i.a},"7e4b":function(t,e,a){},"821d":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[t.isLoading?s("div",{staticClass:"loading"},[s("img",{attrs:{src:a("4b50")}})]):t._e(),t.error?s("div",{staticClass:"error"},[t._v(" error ")]):t._e(),t.data?s("div",{staticClass:"shop"},[s("shopHeader",{staticClass:"title fixed",attrs:{name:t.data.name}}),s("div",{staticClass:"info"},[s("div",{staticClass:"shop-name"},[t._v(t._s(t.data.name))]),s("div",{staticClass:"shop-else"},[t._v(" 商家配送约"+t._s(t.averageTime)+"分钟·月售"+t._s(t.data.sales)+" ")]),s("div",{staticClass:"shop-bulletin"},[t._v("公告: "+t._s(t.data.bulletin))]),s("div",{staticClass:"shop-discount"})]),s("div",{staticClass:"nav"},[s("p",{class:{active:t.isActive},on:{click:function(e){return t.goto("Goods")}}},[t._v("点餐")]),s("p",{class:{active:!t.isActive},on:{click:function(e){return t.goto("Comment")}}},[t._v(" 评价 ")])]),s("keep-alive",[s("router-view",{staticClass:"iframe"})],1)],1):t._e()])},i=[],n=(a("c975"),a("b680"),a("5d60")),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rp-container"},[a("div",{staticClass:"rp-amount",class:t.type},[a("small",[t._v("¥")]),t._v(t._s(t.rp.amount)+" "),a("div",{staticClass:"rp-condition"},[t._v(" "+t._s(t.rp.condition)+" ")])]),a("div",{staticClass:"rp-gm",class:t.type},[t._v(" "+t._s(t.getMethod)+" ")])])},r=[],c={props:{rp:{type:Object}},computed:{type:function(){return 0===this.rp.type?"vip":"common"},getMethod:function(){return 1===this.rp.getMethod?"领":"兑"}}},u=c,d=(a("dbcd"),a("2877")),l=Object(d["a"])(u,o,r,!1,null,"3223b96c",null),h=l.exports,f={data:function(){return{loading:!1,error:null,shopID:"shopid",showing:"Goods",data:null}},computed:{averageTime:function(){var t=this.data.distance/100>20?this.data.distance/100:20;return t.toFixed(0)},localCart:function(){return this.$store.state.cartList[this.shopID]},isActive:function(){return"Goods"===this.showing},route:function(){return this.$route.path},isLoading:function(){return this.loading&&null===this.data}},created:function(){this.fetchData()},components:{shopHeader:n["a"],redPacket:h},beforeRouteUpdate:function(t,e,a){this.fetchData(),a()},watch:{route:function(){this.fetchData}},methods:{goto:function(t){this.showing=t,-1===this.$route.path.indexOf(t)&&this.$router.push(t)},fetchData:function(){var t=this;this.loading=!0,this.$axios({url:"/api/shopInfo",method:"post",data:{id:this.$route.params.id}}).then((function(e){t.data=e.data,t.loading=!1})).catch((function(){t.loading=!1,t.error=!0}))}}},p=f,v=(a("1552"),Object(d["a"])(p,s,i,!1,null,"1199f1b0",null));e["default"]=v.exports},c975:function(t,e,a){"use strict";var s=a("23e7"),i=a("4d64").indexOf,n=a("a640"),o=a("ae40"),r=[].indexOf,c=!!r&&1/[1].indexOf(1,-0)<0,u=n("indexOf"),d=o("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:c||!u||!d},{indexOf:function(t){return c?r.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},dbcd:function(t,e,a){"use strict";var s=a("1fbd"),i=a.n(s);i.a}}]);